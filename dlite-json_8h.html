<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DLite: src/dlite-json.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DLite
   &#160;<span id="projectnumber">0.3.11</span>
   </div>
   <div id="projectbrief">A lightweight data-centric framework for semantic interoperability</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">dlite-json.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides built-in support for JSON in dlite.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="jstore_8h_source.html">utils/jstore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="jsmnx_8h_source.html">utils/jsmnx.h</a>&quot;</code><br />
</div>
<p><a href="dlite-json_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:acda502422e3e42e3a99e17eb73d6ac6c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> { <br />
&#160;&#160;<a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6cac0257fcd32cb8ef826c25314b8e420de">dliteJsonSingle</a> =1, 
<a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6ca4c63d56971258bee167851cf205737c0">dliteJsonUriKey</a> =2, 
<a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6cafe3b612d7f93cbd781fead649aaeba06">dliteJsonWithUuid</a> =4, 
<a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6ca9c4d2f87d7b2eb15304de5c1972b371e">dliteJsonWithMeta</a> =8, 
<br />
&#160;&#160;<a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6ca4669b6780f297a2732edbf6ec9e00a68">dliteJsonArrays</a> =16
<br />
 }</td></tr>
<tr class="separator:acda502422e3e42e3a99e17eb73d6ac6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a38878e2f7ae5cf9a391e30bd2f80e9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> { <a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9a88e24e2028687ac446ddcf1772d43453">dliteJsonDataFormat</a>, 
<a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9a886c474c6797a4ea5e203f3cdeaa8957">dliteJsonMetaFormat</a>
 }</td></tr>
<tr class="separator:a9a38878e2f7ae5cf9a391e30bd2f80e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Serilisation</div></td></tr>
<tr class="memitem:ac8740d2dcb62d9a0fcdede51c5bd7aab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ac8740d2dcb62d9a0fcdede51c5bd7aab">dlite_json_sprint</a> (char *dest, size_t size, const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, int indent, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:ac8740d2dcb62d9a0fcdede51c5bd7aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d73b7c14cb2332f58be95ffa8729d61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a9d73b7c14cb2332f58be95ffa8729d61">dlite_json_asprint</a> (char **dest, size_t *size, size_t pos, const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, int indent, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:a9d73b7c14cb2332f58be95ffa8729d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525f6384f8b7de65273d6a36b53a3937"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a525f6384f8b7de65273d6a36b53a3937">dlite_json_aprint</a> (const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, int indent, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:a525f6384f8b7de65273d6a36b53a3937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401a468d80e7e75eaeefd220fb366565"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a401a468d80e7e75eaeefd220fb366565">dlite_json_fprint</a> (FILE *fp, const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, int indent, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:a401a468d80e7e75eaeefd220fb366565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13afb5380f6cedb3cb55ea83ddec2f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ad13afb5380f6cedb3cb55ea83ddec2f6">dlite_json_print</a> (const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst)</td></tr>
<tr class="separator:ad13afb5380f6cedb3cb55ea83ddec2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e8f703af7143fb329a99bdcc882c8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a68e8f703af7143fb329a99bdcc882c8f">dlite_json_printfile</a> (const char *filename, const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:a68e8f703af7143fb329a99bdcc882c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5453773fd7d5038cdbadff4af48e19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#aaa5453773fd7d5038cdbadff4af48e19">dlite_json_append</a> (char **s, size_t *size, const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:aaa5453773fd7d5038cdbadff4af48e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Deserialisation</div></td></tr>
<tr class="memitem:a0e2402d1b455c37b7636305c59f01326"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a0e2402d1b455c37b7636305c59f01326">dlite_json_sscan</a> (const char *src, const char *id, const char *metaid)</td></tr>
<tr class="separator:a0e2402d1b455c37b7636305c59f01326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4cb0d1856569d7c4f7b41c41a91fdaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ad4cb0d1856569d7c4f7b41c41a91fdaf">dlite_json_fscan</a> (FILE *fp, const char *id, const char *metaid)</td></tr>
<tr class="separator:ad4cb0d1856569d7c4f7b41c41a91fdaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b1a8338b6728cb5ffe0f6875a7ebdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a49b1a8338b6728cb5ffe0f6875a7ebdd">dlite_json_scanfile</a> (const char *filename, const char *id, const char *metaid)</td></tr>
<tr class="separator:a49b1a8338b6728cb5ffe0f6875a7ebdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Checking</div></td></tr>
<tr class="memitem:a3746f8e32744f408bf7b0afdc7bc1251"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a3746f8e32744f408bf7b0afdc7bc1251">dlite_json_check</a> (const char *src, const <a class="el" href="structjsmntok.html">jsmntok_t</a> *tokens, const char *id, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *flags)</td></tr>
<tr class="separator:a3746f8e32744f408bf7b0afdc7bc1251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5473b22b5115fbb75d106921edf3904e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a5473b22b5115fbb75d106921edf3904e">dlite_json_scheck</a> (const char *src, size_t len, const char *id, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *flags)</td></tr>
<tr class="separator:a5473b22b5115fbb75d106921edf3904e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72eec464d86987bccbbf98ca878673bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a72eec464d86987bccbbf98ca878673bc">dlite_json_fcheck</a> (FILE *fp, const char *id, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *flags)</td></tr>
<tr class="separator:a72eec464d86987bccbbf98ca878673bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1315fae1196666cfd3bf6c2b3778596"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ab1315fae1196666cfd3bf6c2b3778596">dlite_json_checkfile</a> (const char *filename, const char *id, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *flags)</td></tr>
<tr class="separator:ab1315fae1196666cfd3bf6c2b3778596"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Iterator</h2></td></tr>
<tr class="memitem:a9e217897e5cbcc2dbf4f3759230e9e0b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__DLiteJsonIter.html">_DLiteJsonIter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a></td></tr>
<tr class="separator:a9e217897e5cbcc2dbf4f3759230e9e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa399ed3ab5d1701a4f180e67e5c52643"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#aa399ed3ab5d1701a4f180e67e5c52643">dlite_json_iter_create</a> (const char *src, int length, const char *metaid)</td></tr>
<tr class="separator:aa399ed3ab5d1701a4f180e67e5c52643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86a6d594fe86694dc29bef8cfe20ea9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ab86a6d594fe86694dc29bef8cfe20ea9">dlite_json_iter_free</a> (<a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a> *iter)</td></tr>
<tr class="separator:ab86a6d594fe86694dc29bef8cfe20ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dd61250c3bc42ffb589d441acbe9fc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ad3dd61250c3bc42ffb589d441acbe9fc">dlite_json_next</a> (<a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a> *iter, int *length)</td></tr>
<tr class="separator:ad3dd61250c3bc42ffb589d441acbe9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
JSON store</h2></td></tr>
<tr class="memitem:ab3eb8e6f51f81ea27431e944f64d18a9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__DLiteJStoreIter.html">_DLiteJStoreIter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a></td></tr>
<tr class="separator:ab3eb8e6f51f81ea27431e944f64d18a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d5fd01b1483e30a43abeac4959b6aa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a3d5fd01b1483e30a43abeac4959b6aa0">dlite_jstore_loads</a> (<a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *js, const char *src, int len)</td></tr>
<tr class="separator:a3d5fd01b1483e30a43abeac4959b6aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db64a9792e7deb497475a427f48509c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a1db64a9792e7deb497475a427f48509c">dlite_jstore_loadf</a> (<a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *js, const char *filename)</td></tr>
<tr class="separator:a1db64a9792e7deb497475a427f48509c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f4e20616cc062589ae1f1380ccac2c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a81f4e20616cc062589ae1f1380ccac2c">dlite_jstore_add</a> (<a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *js, const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *inst, <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> flags)</td></tr>
<tr class="separator:a81f4e20616cc062589ae1f1380ccac2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee53b0a66ab1b9d414f0c03e14bf763"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a9ee53b0a66ab1b9d414f0c03e14bf763">dlite_jstore_remove</a> (<a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *js, const char *id)</td></tr>
<tr class="separator:a9ee53b0a66ab1b9d414f0c03e14bf763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd21da342c44f17786aaa6a845a02d23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#afd21da342c44f17786aaa6a845a02d23">dlite_jstore_iter_create</a> (<a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *js, const char *metaid)</td></tr>
<tr class="separator:afd21da342c44f17786aaa6a845a02d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ee8315152fdbc17189ac4776851d67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a40ee8315152fdbc17189ac4776851d67">dlite_jstore_iter_free</a> (<a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a> *iter)</td></tr>
<tr class="separator:a40ee8315152fdbc17189ac4776851d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91eb21575be0424f97cc7d2d8a35a53a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlite-json_8h.html#a91eb21575be0424f97cc7d2d8a35a53a">dlite_jstore_iter_next</a> (<a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a> *iter)</td></tr>
<tr class="separator:a91eb21575be0424f97cc7d2d8a35a53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides built-in support for JSON in dlite. </p>
<p>A set of utility function for serialising and deserialising dlite instances to/from JSON. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a9e217897e5cbcc2dbf4f3759230e9e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e217897e5cbcc2dbf4f3759230e9e0b">&#9670;&nbsp;</a></span>DLiteJsonIter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__DLiteJsonIter.html">_DLiteJsonIter</a> <a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opaque iterator struct </p>

</div>
</div>
<a id="ab3eb8e6f51f81ea27431e944f64d18a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3eb8e6f51f81ea27431e944f64d18a9">&#9670;&nbsp;</a></span>DLiteJStoreIter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__DLiteJStoreIter.html">_DLiteJStoreIter</a> <a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opaque iterator struct </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="acda502422e3e42e3a99e17eb73d6ac6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acda502422e3e42e3a99e17eb73d6ac6c">&#9670;&nbsp;</a></span>DLiteJsonFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags for controlling serialisation </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acda502422e3e42e3a99e17eb73d6ac6cac0257fcd32cb8ef826c25314b8e420de"></a>dliteJsonSingle&#160;</td><td class="fielddoc"><p>single-entity format </p>
</td></tr>
<tr><td class="fieldname"><a id="acda502422e3e42e3a99e17eb73d6ac6ca4c63d56971258bee167851cf205737c0"></a>dliteJsonUriKey&#160;</td><td class="fielddoc"><p>Use uri (if it exists) as json key in multi- entity format. </p>
</td></tr>
<tr><td class="fieldname"><a id="acda502422e3e42e3a99e17eb73d6ac6cafe3b612d7f93cbd781fead649aaeba06"></a>dliteJsonWithUuid&#160;</td><td class="fielddoc"><p>include uuid in output </p>
</td></tr>
<tr><td class="fieldname"><a id="acda502422e3e42e3a99e17eb73d6ac6ca9c4d2f87d7b2eb15304de5c1972b371e"></a>dliteJsonWithMeta&#160;</td><td class="fielddoc"><p>always include "meta" (even for metadata) </p>
</td></tr>
<tr><td class="fieldname"><a id="acda502422e3e42e3a99e17eb73d6ac6ca4669b6780f297a2732edbf6ec9e00a68"></a>dliteJsonArrays&#160;</td><td class="fielddoc"><p>write metadata dimension and properties as json arrays (old format) </p>
</td></tr>
</table>

</div>
</div>
<a id="a9a38878e2f7ae5cf9a391e30bd2f80e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a38878e2f7ae5cf9a391e30bd2f80e9">&#9670;&nbsp;</a></span>DLiteJsonFormat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enum indicating whether a JSON string is formatted as data and metadata. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9a38878e2f7ae5cf9a391e30bd2f80e9a88e24e2028687ac446ddcf1772d43453"></a>dliteJsonDataFormat&#160;</td><td class="fielddoc"><p>Data format </p>
</td></tr>
<tr><td class="fieldname"><a id="a9a38878e2f7ae5cf9a391e30bd2f80e9a886c474c6797a4ea5e203f3cdeaa8957"></a>dliteJsonMetaFormat&#160;</td><td class="fielddoc"><p>Metadata format </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac8740d2dcb62d9a0fcdede51c5bd7aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8740d2dcb62d9a0fcdede51c5bd7aab">&#9670;&nbsp;</a></span>dlite_json_sprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_json_sprint </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Serialise instance <code>inst</code> to <code>dest</code>, formatted as JSON.</p>
<p>No more than <code>size</code> bytes are written to <code>dest</code> (incl. the terminating NUL).</p>
<p>Returns number of bytes written to <code>dest</code>. If the output is truncated because it exceeds <code>size</code>, the number of bytes that would have been written if <code>size</code> was large enough is returned. On error, a negative value is returned. </p>

</div>
</div>
<a id="a9d73b7c14cb2332f58be95ffa8729d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d73b7c14cb2332f58be95ffa8729d61">&#9670;&nbsp;</a></span>dlite_json_asprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_json_asprint </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like dlite_sprint(), but prints to allocated buffer.</p>
<p>Prints to position <code>pos</code> in <code>*dest</code>, which should point to a buffer of size <code>*size</code>. <code>*dest</code> is reallocated if needed.</p>
<p>Returns number or bytes written or a negative number on error. </p>

</div>
</div>
<a id="a525f6384f8b7de65273d6a36b53a3937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525f6384f8b7de65273d6a36b53a3937">&#9670;&nbsp;</a></span>dlite_json_aprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dlite_json_aprint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like dlite_sprint(), but returns allocated buffer with serialised instance. </p>

</div>
</div>
<a id="a401a468d80e7e75eaeefd220fb366565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401a468d80e7e75eaeefd220fb366565">&#9670;&nbsp;</a></span>dlite_json_fprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_json_fprint </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like dlite_sprint(), but prints to stream <code>fp</code>.</p>
<p>Returns number or bytes printed or a negative number on error. </p>

</div>
</div>
<a id="ad13afb5380f6cedb3cb55ea83ddec2f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13afb5380f6cedb3cb55ea83ddec2f6">&#9670;&nbsp;</a></span>dlite_json_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_json_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints json representation of <code>inst</code> to standard output.</p>
<p>Returns number or bytes printed or a negative number on error. </p>

</div>
</div>
<a id="a68e8f703af7143fb329a99bdcc882c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68e8f703af7143fb329a99bdcc882c8f">&#9670;&nbsp;</a></span>dlite_json_printfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_json_printfile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like <a class="el" href="dlite-json_8h.html#ac8740d2dcb62d9a0fcdede51c5bd7aab">dlite_json_sprint()</a>, but prints the output to file <code>filename</code>.</p>
<p>Returns number or bytes printed or a negative number on error. </p>

</div>
</div>
<a id="aaa5453773fd7d5038cdbadff4af48e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5453773fd7d5038cdbadff4af48e19">&#9670;&nbsp;</a></span>dlite_json_append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_json_append </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends json representation of <code>inst</code> to json string pointed to by <code>*s</code>.</p>
<p>On input, <code>*s</code> should be a malloc'ed string representation of a json object. It will be reallocated as needed.</p>
<p><code>*size</code> if the allocated size of <code>*s</code>. It will be updated when <code>*s</code> is realocated.</p>
<p>Returns number or bytes inserted or a negative number on error. </p>

</div>
</div>
<a id="a0e2402d1b455c37b7636305c59f01326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2402d1b455c37b7636305c59f01326">&#9670;&nbsp;</a></span>dlite_json_sscan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a>* dlite_json_sscan </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>metaid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a new instance scanned from <code>src</code>.</p>
<p><code>id</code> is the uri or uuid of the instance to load. If <code>src</code> only contain one instance (of the required metadata), <code>id</code> may be NULL.</p>
<p>If <code>metaid</code> is not NULL, it should be the URI or UUID of the metadata of the returned instance. It is an error if no such instance exists in the source.</p>
<p>Returns the instance or NULL on error. </p>

</div>
</div>
<a id="ad4cb0d1856569d7c4f7b41c41a91fdaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4cb0d1856569d7c4f7b41c41a91fdaf">&#9670;&nbsp;</a></span>dlite_json_fscan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a>* dlite_json_fscan </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>metaid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like dlite_sscan(), but scans instance <code>id</code> from stream <code>fp</code> instead of a string.</p>
<p>Returns the instance or NULL on error. </p>

</div>
</div>
<a id="a49b1a8338b6728cb5ffe0f6875a7ebdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49b1a8338b6728cb5ffe0f6875a7ebdd">&#9670;&nbsp;</a></span>dlite_json_scanfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a>* dlite_json_scanfile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>metaid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like <a class="el" href="dlite-json_8h.html#a0e2402d1b455c37b7636305c59f01326">dlite_json_sscan()</a>, but scans instance <code>id</code> from file <code>filename</code> instead of a string.</p>
<p>Returns the instance or NULL on error. </p>

</div>
</div>
<a id="a3746f8e32744f408bf7b0afdc7bc1251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3746f8e32744f408bf7b0afdc7bc1251">&#9670;&nbsp;</a></span>dlite_json_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> dlite_json_check </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjsmntok.html">jsmntok_t</a> *&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check format of a parsed JSON string.</p>
<p><code>src</code> is the JSON string to check.</p>
<p><code>tokens</code> should be a parsed set of JSMN tokens corresponding to <code>src</code>.</p>
<p>If <code>id</code> is not NULL, it is used to select what instance in a multi-entity formatted JSON string that will be used to assign flags. If NULL, the first instance will be used.</p>
<p>If <code>flags</code> is not NULL, the formatting (of the first entry in case of multi-entity format) will be investigated and <code>flags</code> set accordingly.</p>
<p>Return the format of <code>src</code> or -1 on error. </p>

</div>
</div>
<a id="a5473b22b5115fbb75d106921edf3904e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5473b22b5115fbb75d106921edf3904e">&#9670;&nbsp;</a></span>dlite_json_scheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> dlite_json_scheck </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like <a class="el" href="dlite-json_8h.html#a3746f8e32744f408bf7b0afdc7bc1251">dlite_json_check()</a>, but checks string <code>src</code> with length <code>len</code>.</p>
<p>Return the json format or -1 on error. </p>

</div>
</div>
<a id="a72eec464d86987bccbbf98ca878673bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72eec464d86987bccbbf98ca878673bc">&#9670;&nbsp;</a></span>dlite_json_fcheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> dlite_json_fcheck </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like <a class="el" href="dlite-json_8h.html#a5473b22b5115fbb75d106921edf3904e">dlite_json_scheck()</a>, but checks the content of stream <code>fp</code> instead.</p>
<p>Return the json format or -1 on error. </p>

</div>
</div>
<a id="ab1315fae1196666cfd3bf6c2b3778596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1315fae1196666cfd3bf6c2b3778596">&#9670;&nbsp;</a></span>dlite_json_checkfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> dlite_json_checkfile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a> *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like <a class="el" href="dlite-json_8h.html#a5473b22b5115fbb75d106921edf3904e">dlite_json_scheck()</a>, but checks the file <code>filename</code> instead.</p>
<p>Return the json format or -1 on error. </p>

</div>
</div>
<a id="aa399ed3ab5d1701a4f180e67e5c52643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa399ed3ab5d1701a4f180e67e5c52643">&#9670;&nbsp;</a></span>dlite_json_iter_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a>* dlite_json_iter_create </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>metaid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and returns a new iterator used by <a class="el" href="dlite-json_8h.html#ad3dd61250c3bc42ffb589d441acbe9fc">dlite_json_next()</a>.</p>
<p>Arguments</p><ul>
<li>src: input JSON string to search.</li>
<li>length: length of <code>src</code>. If zero or negative, all of <code>src</code> will be used.</li>
<li>metaid: limit the search to instances of metadata with this id.</li>
</ul>
<p>The source should be a JSON object with keys being instance UUIDs and values being the JSON representation of the individual instances.</p>
<p>Returns a new iterator or NULL on error. </p>

</div>
</div>
<a id="ab86a6d594fe86694dc29bef8cfe20ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab86a6d594fe86694dc29bef8cfe20ea9">&#9670;&nbsp;</a></span>dlite_json_iter_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dlite_json_iter_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free's iterator created with <a class="el" href="dlite-json_8h.html#aa399ed3ab5d1701a4f180e67e5c52643">dlite_json_iter_create()</a>. </p>

</div>
</div>
<a id="ad3dd61250c3bc42ffb589d441acbe9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3dd61250c3bc42ffb589d441acbe9fc">&#9670;&nbsp;</a></span>dlite_json_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* dlite_json_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#a9e217897e5cbcc2dbf4f3759230e9e0b">DLiteJsonIter</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Search for instances in the JSON document provided to <a class="el" href="dlite-json_8h.html#aa399ed3ab5d1701a4f180e67e5c52643">dlite_json_iter_create()</a> and returns a pointer to instance UUIDs.</p>
<p><code>iter</code> should be an iterator created with <a class="el" href="dlite-json_8h.html#aa399ed3ab5d1701a4f180e67e5c52643">dlite_json_iter_create()</a>.</p>
<p>If <code>length</code> is given, it is set to the length of the returned identifier.</p>
<p>Returns a pointer to the next matching UUID or NULL if there are no more matches left. </p>

</div>
</div>
<a id="a3d5fd01b1483e30a43abeac4959b6aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5fd01b1483e30a43abeac4959b6aa0">&#9670;&nbsp;</a></span>dlite_jstore_loads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> dlite_jstore_loads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load content of json string <code>src</code> to json store <code>js</code>. <code>len</code> is the length of <code>src</code>.</p>
<p>Returns json format or -1 on error. </p>

</div>
</div>
<a id="a1db64a9792e7deb497475a427f48509c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db64a9792e7deb497475a427f48509c">&#9670;&nbsp;</a></span>dlite_jstore_loadf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#a9a38878e2f7ae5cf9a391e30bd2f80e9">DLiteJsonFormat</a> dlite_jstore_loadf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read content of <code>filename</code> to json store <code>js</code>.</p>
<p>Returns json format or -1 on error. </p>

</div>
</div>
<a id="a81f4e20616cc062589ae1f1380ccac2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f4e20616cc062589ae1f1380ccac2c">&#9670;&nbsp;</a></span>dlite_jstore_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_jstore_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dlite-storage_8h.html#a4d4dc51de5d766bd65b72c21a3492b71">DLiteInstance</a> *&#160;</td>
          <td class="paramname"><em>inst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#acda502422e3e42e3a99e17eb73d6ac6c">DLiteJsonFlag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add json representation of <code>inst</code> to json store <code>js</code>.</p>
<p>Returns non-zero on error. </p>

</div>
</div>
<a id="a9ee53b0a66ab1b9d414f0c03e14bf763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee53b0a66ab1b9d414f0c03e14bf763">&#9670;&nbsp;</a></span>dlite_jstore_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_jstore_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes instance with given id from json store <code>js</code>.</p>
<p>Returns non-zero on error. </p>

</div>
</div>
<a id="afd21da342c44f17786aaa6a845a02d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd21da342c44f17786aaa6a845a02d23">&#9670;&nbsp;</a></span>dlite_jstore_iter_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a>* dlite_jstore_iter_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jstore_8h.html#af01673c6e6d442602f97d3efb67c536c">JStore</a> *&#160;</td>
          <td class="paramname"><em>js</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>metaid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initiate iterator <code>init</code> from json store <code>js</code>. If <code>metaid</code> is provided, the iterator will only iterate over instances of this metadata.</p>
<p>Returns a new iterator or NULL on error. </p>

</div>
</div>
<a id="a40ee8315152fdbc17189ac4776851d67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ee8315152fdbc17189ac4776851d67">&#9670;&nbsp;</a></span>dlite_jstore_iter_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dlite_jstore_iter_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deinitialises iterater.</p>
<p>Return non-zero on error. </p>

</div>
</div>
<a id="a91eb21575be0424f97cc7d2d8a35a53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91eb21575be0424f97cc7d2d8a35a53a">&#9670;&nbsp;</a></span>dlite_jstore_iter_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* dlite_jstore_iter_next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dlite-json_8h.html#ab3eb8e6f51f81ea27431e944f64d18a9">DLiteJStoreIter</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the id of the next instance in the json store or NULL if the iterator is exausted. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
